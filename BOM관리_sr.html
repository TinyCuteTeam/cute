<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .sr_grey {
            /* 배경 */
            /* Q. 지울지말지 */
            background-color: #d0cbcb;
            width: 1000px;
            height: 700px;
        }

        .sr_mandoo {
            display: inline-block;
            margin-right: 50px;
        }

        #recipeSelect {
            padding: 5px 20px;
            font-weight: 700;
            border-radius: 5px;
        }

        .sr_edit {
            display: inline-block;
            width: 300px;
        }


        .sr_bom {
            margin-left: auto;
            margin-right: auto;
            width: 80%;
        }

        table,
        td,
        th {
            border: solid black 1px;
            border-collapse: collapse;
            text-align: center;
        }

        .bin {
            width:30px;
        }

        .pen {
            width:30px;
        }

        form {
            width: 100px;
        }

        .meat {
            display: none;
        }
    </style>

</head>

<body>
    <div class="sr_grey">
    <h1 style="text-align: center;">레시피 관리</h1>
        <!-- 제품 레시피 선택  -->
        <div style="text-align: center;">
            <div class="sr_mandoo">
                <form>
                    <select id="recipeSelect">
                        <option value="kimchi">김치만두 / A00001</option>
                        <option value="meat">고기만두 / A00002</option>
                    </select>
                </form>
            </div>
            <div class="sr_edit">
                <button>추가</button>
                <!-- <button>저장</button> -->
            </div>
        </div>

        <br>
        <div style="text-align: center; margin-bottom: 10px;">1개 기준 </div>

        <!-- 표 -->
        <table id="table" class="sr_bom kimchi">
            <!-- 김치만두 -->
            <tr>
                <th>품목코드</th>
                <th>품목명</th>
                <th>수량</th>
                <th>단위</th>
                <th>비고</th>
                <th>수정</th>
                <th>삭제</th>
            </tr>
            <tr>
                <td>M001</td>
                <td>밀가루</td>
                <td>500</td>
                <td>g</td>
                <td>만두피 재료</td>
                <!-- 수정버튼 -->
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <!-- 삭제버튼 -->
                <td><button class="delButton"><img class="bin" src="https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
            <tr>
                <td>M002</td>
                <td>물</td>
                <td>200</td>
                <td>ml</td>
                <td>반죽용</td>
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <td><button class="delButton"><img class="bin" src=" https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
            <tr>
                <td>M003</td>
                <td>소금</td>
                <td>5</td>
                <td>g</td>
                <td>반죽의 맛을 위해</td>
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <td><button class="delButton"><img class="bin" src=" https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
            <tr>
                <td>M004</td>
                <td>다진 돼지고기</td>
                <td>300</td>
                <td>g</td>
                <td>만두 속 재료</td>
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <td><button class="delButton"><img class="bin" src=" https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
            <tr>
                <td>M005</td>
                <td>다진 양파</td>
                <td>100</td>
                <td>g</td>
                <td>만두 속 재료</td>
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <td><button class="delButton"><img class="bin" src=" https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
            <tr>
                <td>M015</td>
                <td>김치</td>
                <td>100</td>
                <td>g</td>
                <td>만두 속 재료</td>
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <td><button class="delButton"><img class="bin" src=" https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
            <tr>
                <td>M006</td>
                <td>대파</td>
                <td>30</td>
                <td>g</td>
                <td>만두 속 재료</td>
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <td><button class="delButton"><img class="bin" src=" https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
            <tr>
                <td>M007</td>
                <td>간장</td>
                <td>15</td>
                <td>ml</td>
                <td>만두 속 양념</td>
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <td><button class="delButton"><img class="bin" src=" https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
            <tr>
                <td>M008</td>
                <td>참기름</td>
                <td>10</td>
                <td>ml</td>
                <td>만두 속 양념</td>
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <td><button class="delButton"><img class="bin" src=" https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
            <tr>
                <td>M009</td>
                <td>후추</td>
                <td>2</td>
                <td>g</td>
                <td>만두 속 양념</td>
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <td><button class="delButton"><img class="bin" src=" https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
            <tr>
                <td>M010</td>
                <td>마늘</td>
                <td>10</td>
                <td>g</td>
                <td>만두 속 양념</td>
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <td><button class="delButton"><img class="bin" src=" https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
        </table>
        <br>

        <table id="table" class="sr_bom meat">
            <!-- 고기만두 -->
            <tr>
                <th>품목코드</th>
                <th>품목명</th>
                <th>수량</th>
                <th>단위</th>
                <th>비고</th>
                <th>삭제</th>
            </tr>
            <tr>
                <td>M001</td>
                <td>밀가루</td>
                <td>500</td>
                <td>g</td>
                <td>만두피 재료</td>
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <td><button class="delButton"><img class="bin" src=" https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
            <tr>
                <td>M002</td>
                <td>물</td>
                <td>200</td>
                <td>ml</td>
                <td>반죽용</td>
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <td><button class="delButton"><img class="bin" src=" https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
            <tr>
                <td>M003</td>
                <td>소금</td>
                <td>5</td>
                <td>g</td>
                <td>반죽의 맛을 위해</td>
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <td><button class="delButton"><img class="bin" src=" https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
            <tr>
                <td>M004</td>
                <td>다진 돼지고기</td>
                <td>300</td>
                <td>g</td>
                <td>만두 속 재료</td>
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <td><button class="delButton"><img class="bin" src=" https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
            <tr>
                <td>M005</td>
                <td>다진 양파</td>
                <td>100</td>
                <td>g</td>
                <td>만두 속 재료</td>
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <td><button class="delButton"><img class="bin" src=" https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
            <tr>
                <td>M006</td>
                <td>대파</td>
                <td>30</td>
                <td>g</td>
                <td>만두 속 재료</td>
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <td><button class="delButton"><img class="bin" src=" https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
            <tr>
                <td>M007</td>
                <td>간장</td>
                <td>15</td>
                <td>ml</td>
                <td>만두 속 양념</td>
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <td><button class="delButton"><img class="bin" src=" https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
            <tr>
                <td>M008</td>
                <td>참기름</td>
                <td>10</td>
                <td>ml</td>
                <td>만두 속 양념</td>
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <td><button class="delButton"><img class="bin" src=" https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
            <tr>
                <td>M009</td>
                <td>후추</td>
                <td>2</td>
                <td>g</td>
                <td>만두 속 양념</td>
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <td><button class="delButton"><img class="bin" src=" https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
            <tr>
                <td>M010</td>
                <td>마늘</td>
                <td>10</td>
                <td>g</td>
                <td>만두 속 양념</td>
                <td><button class="editButton"><img class="pen" src="https://cdn-icons-png.flaticon.com/512/764/764599.png"></button></td>
                <td><button class="delButton"><img class="bin" src=" https://cdn-icons-png.flaticon.com/512/484/484662.png"></button></td>
            </tr>
        </table>

        <input type="text" id="editInput" style="display: none;" placeholder="수정할 내용을 작성하세요">

        <!-- <input class="sr_text" type="text"> -->
    </div>
</body>
<script>
    // 고기만두가 선택되었을 때 고기만두 테이블이 나오도록 
    // 김치테이블을 display none 해두기 
    // let kimchi = document.querySelector('.kimchi');
    // let meat = document.querySelector('.meat');
    // meat.addEventListener('change',function(){

    //     if(meat.style.display == "none"){
    //         meat.style.display = "block";
    //     } else {
    //         meat.style.display = "none";
    //     }
    // })

    // let kimchi = document.querySelector('.kimchi');
    // meat.addEventListener('change',function(){

    //     if(kimchi.style.display == "none"){
    //         kimchi.style.display = "block";
    //     } else {
    //         kimchi.style.display = "none";
    //     }
    // })
    document.getElementById('recipeSelect').addEventListener('change', function () {
        let kimchidiv = document.querySelector('.kimchi');
        let meatdiv = document.querySelector('.meat');

        // 선택된 값에 따라 해당 div 보이기
        if (this.value === 'kimchi') {
            meatdiv.style.display = 'none';
            kimchidiv.style.display = 'table';
        } else if (this.value === 'meat') {
            kimchidiv.style.display = 'none';
            meatdiv.style.display = 'table';
        }
    });

    //삭제 누르면 표 한줄이 삭제되도록 
    let del=document.querySelectorAll(".delButton")
    // let del=document.querySelectorAll(".del")
    for(let i=0;i<del.length;i++){
        del[i].addEventListener('click',function(event){
            event.currentTarget.parentNode.parentNode.remove();
        })
    }

    //수정버튼을 누르면 내용을 수정할 수 있도록 
    // .editButton 
    // 수정버튼을 클릭하면 input text 칸이 나오고 
    // 그 위에 내용을 작성하면 작성한 내용이 저장되도록 
    //내가 쓰다 만거
    // let edit=document.querySelectorAll(".editButton")
    // for(let i=0;i<edit.length;i++){
    //     edit[i].addEventListener('click',function(){
    //     })
    // }


    //챗 지피티
    // let editButtons = document.querySelectorAll(".editButton");
    //     editButtons.forEach(function(button) {
    //         button.addEventListener('click', function (event) {
    //             let currentCell = event.currentTarget.parentNode.previousElementSibling;
    //             let currentValue = currentCell.textContent;

    //             let inputField = document.getElementById('editInput');
    //             inputField.value = currentValue;
    //             inputField.style.display = 'inline-block';

    //             // 저장 버튼 추가
    //             let saveButton = document.createElement('button');
    //             saveButton.textContent = '저장';
    //             saveButton.addEventListener('click', function () {
    //                 currentCell.textContent = inputField.value;
    //                 inputField.style.display = 'none';
    //                 saveButton.remove();
    //             });
    //             // 버튼 추가
    //             currentCell.appendChild(saveButton);
    //         });
    //     });

        // 수정 버튼 클릭 시 수정할 수 있는 입력 필드 생성
let editButtons = document.querySelectorAll(".editButton");
editButtons.forEach(function(button) {
    button.addEventListener('click', function (event) {
        let tableRow = event.currentTarget.parentNode.parentNode; // 현재 버튼이 속한 행(tr)
        let cells = tableRow.querySelectorAll('td'); // 행의 모든 셀(td)을 선택

        // 특정 열(예: 두 번째 열) 선택
        let currentCell = cells[1]; // 두 번째 열 선택 (인덱스는 0부터 시작)

        let currentValue = currentCell.textContent;

        // 입력 필드 생성
        let inputField = document.createElement('input');
        inputField.type = 'text';
        inputField.value = currentValue;

        // 기존 콘텐츠 숨기기
        currentCell.textContent = '';
        currentCell.appendChild(inputField);

        // 저장 버튼 생성
        let saveButton = document.createElement('button');
        saveButton.textContent = '저장';
        saveButton.addEventListener('click', function () {
            currentCell.textContent = inputField.value;
        });

        // 셀에 저장 버튼 추가
        currentCell.appendChild(saveButton);
    });
});
</script>


</html>